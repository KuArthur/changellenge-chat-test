(this["webpackJsonpchangellenge-chat-test"]=this["webpackJsonpchangellenge-chat-test"]||[]).push([[0],[,,,,,,,,,function(e){e.exports=JSON.parse('[{"id":1,"name":"\u0418\u0432\u0430\u043d \u0418\u0432\u0430\u043d\u043e\u0432","img":"/img/user1.png"},{"id":2,"name":"\u0410dgfgdfg\u043d\u043d\u0430 \u0410\u043d\u043d\u043e\u0432\u043d\u0430","img":"/img/user2.png"}]')},,,,,function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var s=n(2),r=n.n(s),a=n(6),c=n.n(a),i=(n(14),n(1)),u=n.n(i),o=n(3),l=n(4),f=(n(16),n(17),n(18),n(0));function j(e){var t=e.user,n=e.onClick,s=e.isSelected;return Object(f.jsxs)("div",{className:"User",onClick:function(){return n(t.id)},children:[Object(f.jsx)("img",{className:"User--photo",src:"/changellenge-chat-test"+t.img,alt:""}),Object(f.jsx)("span",{className:"User--name",children:t.name}),s&&"dfhgfjftdyrjdftyj"]})}function d(e){var t=e.users,n=e.onUserSelect,s=e.selectedUserId;return Object(f.jsxs)("div",{className:"UsersList",children:[Object(f.jsx)("div",{className:"UsersList--title",children:"\u0421\u043f\u0438\u0441\u043e\u043a \u0434\u0440\u0443\u0437\u0435\u0439:"}),Object(f.jsx)("div",{className:"UsersList--users",children:t.map((function(e){return Object(f.jsx)(j,{user:e,isSelected:e.id===s,onClick:n},e.id)}))})]})}n(20);var p=n.p+"static/media/user.a3d9eecd.svg";function b(e){var t=e.messages;return Object(f.jsx)("div",{className:"MessagesList",children:t.map((function(e,t){return Object(f.jsxs)("div",{className:"MessagesList--message",children:[Object(f.jsx)("p",{className:"MessagesList--text",children:e}),Object(f.jsx)("img",{className:"MessagesList--photo",src:p,alt:""})]},t)}))})}n(21);function h(e){return Object(f.jsx)("div",{className:"Controller",children:Object(f.jsx)("form",{onSubmit:function(t){e.onSendMessage(),t.preventDefault()},children:Object(f.jsxs)("div",{className:"Controller--wrap",children:[Object(f.jsx)("input",{onChange:function(t){e.onTextChange(t.target.value)},value:e.value,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435",className:"Controller--input"}),Object(f.jsx)("button",{className:"Controller--button"})]})})})}var g=n(7),m=n(8),v=n(9),O=new(function(){function e(){Object(g.a)(this,e),this.messages={}}return Object(m.a)(e,[{key:"getUserList",value:function(){var e=Object(o.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",v);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getUserHistory",value:function(){var e=Object(o.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.abrupt("return",this.messages[t]||[]);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendMessage",value:function(){var e=Object(o.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log({userId:t,messageText:n}),this.messages[t]=(this.messages[t]||[]).concat(n);case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}());var x=function(){var e=Object(s.useState)(""),t=Object(l.a)(e,2),n=t[0],r=t[1],a=Object(s.useState)([]),c=Object(l.a)(a,2),i=c[0],j=c[1],p=Object(s.useState)([]),g=Object(l.a)(p,2),m=g[0],v=g[1],x=Object(s.useState)(),k=Object(l.a)(x,2),w=k[0],N=k[1];Object(s.useEffect)((function(){(function(){var e=Object(o.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.getUserList();case 2:t=e.sent,j(t),N(t[0].id);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(s.useEffect)((function(){(function(){var e=Object(o.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"!==typeof w){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,O.getUserHistory(w);case 4:t=e.sent,v(t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()(),r("")}),[w]);var y=function(){var e=Object(o.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,O.sendMessage(w,n);case 4:return e.next=6,O.getUserHistory(w);case 6:t=e.sent,v(t),r("");case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(o.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(w!==t){e.next=2;break}return e.abrupt("return");case 2:N(t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(f.jsxs)("div",{className:"Chat",children:[Object(f.jsx)("div",{className:"Chat--userList",children:Object(f.jsx)(d,{selectedUserId:w,users:i,onUserSelect:C})}),Object(f.jsxs)("div",{className:"Chat--messageControl",children:[Object(f.jsx)(b,{messages:m}),Object(f.jsx)(h,{onTextChange:function(e){r(e)},onSendMessage:y,value:n})]})]})},k=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,23)).then((function(t){var n=t.getCLS,s=t.getFID,r=t.getFCP,a=t.getLCP,c=t.getTTFB;n(e),s(e),r(e),a(e),c(e)}))};c.a.render(Object(f.jsx)(r.a.StrictMode,{children:Object(f.jsx)(x,{})}),document.getElementById("root")),k()}],[[22,1,2]]]);
//# sourceMappingURL=main.4300c52b.chunk.js.map